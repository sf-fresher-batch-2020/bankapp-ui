<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"       crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <header id="header">
        <!-- Load Header content-->
    </header>
    <main class="container-fluid">        
        <div id="page-content">
            
<center><h1 class="head">View Balance</h1></center></br></br>
<table style="width:100%" class="table table-bordered">
  <thead>
  <tr class="header">
    <th>Account Name</th>
    <th>Account Number</th>
    <th>Account Type</th>
    <th>Available Balance</th>
    </tr>

</thead>
<tbody id="tbl">
</tbody>
</table>
</div>
    </main>
    <script>
        $("#header").load("components/_header.html");
        </script>
        <script src="services/AccountService.js"></script>
<script>
        function accountDetails(){
            
            /*let accounts = [ { name: "Naresh", accountNo:123 , balance: 1000, accountType: "SAVINGS"} , 
                          { name: "Dinesh", accountNo:124 , balance: 100000, accountType: "CURRENT"} ];
            localStorage.setItem("ACCOUNTS", JSON.stringify(accounts) );
         
            let accountDetailsTemp = JSON.parse(localStorage.getItem("ACCOUNTS"));
            let accountDetails = accountDetailsTemp ? accountDetailsTemp : [];*/

            let accountServiceObj = new AccountService();
            let  accountDetails  = new accountServiceObj.list();
            console.log(accountDetails);
            let data = "";
            for(let obj of accountDetails){
              data += `<tr><td>${obj.name}</td><td>${obj.accountNo}</td><td>${obj.accountType}</td><td>${obj.balance}</td></tr>`;
            }
            document.querySelector("#tbl").innerHTML = data;
        }
        accountDetails();
    </script>
    
  
</body>
</html>
